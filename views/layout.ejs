<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= title %> - Nadiia's Kitchen</title>
  <link rel="stylesheet" href="/css/style.css" />
  <% if (typeof categoryPageCSS !== 'undefined' && categoryPageCSS) { %>
    <link rel="stylesheet" href="/css/category.css" />
  <% } %>
  <% if (typeof recipePageCSS !== 'undefined' && recipePageCSS) { %>
    <link rel="stylesheet" href="/css/recipe.css" />
  <% } %>
  <% if (typeof newRecipePageCSS !== 'undefined' && newRecipePageCSS) { %>
    <link rel="stylesheet" href="/css/new-recipe.css" />
  <% } %>
  <% if (typeof loginPageCSS !== 'undefined' && loginPageCSS) { %>
    <link rel="stylesheet" href="/css/login.css" />
  <% } %>
  <% if (typeof adminPageCSS !== 'undefined' && adminPageCSS) { %>
    <link rel="stylesheet" href="/css/admin.css" />
  <% } %>
</head>

<body>
  <!-- Side Menu -->
  <nav class="side-menu" aria-label="Main Menu">
    <div class="menu-header">
      <button class="menu-icon-btn menu-close-btn"><img src="/src/svg/menu-icon.svg" alt="menu-icon" height="40" /></button>
      <img src="/src/svg/nadiia-dedescu-kitchen-logo.svg" alt="Nadiia Dedescu's Kitchen Logo" height="80" />
    </div>
    <ul class="menu-list">
      <li class="menu-item">
        <button class="menu-title">Recipes</button>
        <ul class="dropdown">
          <li <% if (activePage === 'breakfast') { %>class="active"<% } %>>
            <a href="/categories/breakfast">Breakfast</a>
          </li>
          <li <% if (activePage === 'lunch') { %>class="active"<% } %>>
            <a href="/categories/lunch">Lunch</a>
          </li>
          <li <% if (activePage === 'dinner') { %>class="active"<% } %>>
            <a href="/categories/dinner">Dinner</a>
          </li>
          <li <% if (activePage === 'dessert') { %>class="active"<% } %>>
            <a href="/categories/dessert">Desserts</a>
          </li>
          <li <% if (activePage === 'set-menu') { %>class="active"<% } %>>
            <a href="/categories/set-menu">Set-Menus</a>
          </li>
        </ul>
      </li>
      <li class="menu-item">
        <button class="menu-title">Courses</button>
        <ul class="dropdown">
          <li><a href="#">French Tarts</a></li>
          <li><a href="#">Magic of French Cuisine</a></li>
          <li><a href="#">Magic of Chinese Cuisine</a></li>
          <li><a href="#">Magic of Italian Cuisine</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Main Content Container -->
  <div class="grid-container">
    <!-- Header -->
    <header class="header">
      <button class="menu-icon-btn menu-open-btn"><img src="/src/svg/menu-icon.svg" alt="menu-icon" height="40" /></button>
      <h1><%= title %></h1>
      <a class="header-logo" href="/">
        <img src="/src/svg/nadiia-dedescu-kitchen-logo.svg" alt="Nadiia Dedescu's Kitchen Logo" height="124" />
      </a>
      <div class="header-auth">
        <% if (auth && auth.isAdmin) { %>
          <a class="header-link" href="/admin">Admin</a>
          <form method="post" action="/logout" class="logout-form">
            <input type="hidden" name="_csrf" value="<%= csrfToken || '' %>" />
            <button type="submit" class="header-link header-link-btn">Logout</button>
          </form>
        <% } else { %>
          <a class="header-link" href="/login">Login</a>
        <% } %>
      </div>
    </header>

    <!-- Page Content -->
    <%- body %>
  </div>

  <script src="/js/script.js"></script>
  <% if (typeof newRecipePageJS !== 'undefined' && newRecipePageJS) { %>
    <script src="/js/new-recipe.js"></script>
  <% } %>
</body>
</html>
