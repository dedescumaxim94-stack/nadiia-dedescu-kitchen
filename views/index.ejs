<main class="home-page">
  <% if (navCategories && navCategories.length) { %>
    <section class="home-section" aria-label="Browse categories">
      <div class="section-head">
        <div>
          <p class="eyebrow">Browse</p>
          <h2>Categories</h2>
        </div>
      </div>
      <nav class="category-chip-list">
        <% navCategories.forEach(function(category) { %>
          <a href="/categories/<%= category.slug %>" class="category-chip"><%= category.title %></a>
        <% }); %>
      </nav>
    </section>
  <% } %>

  <% if (featuredRecipe) { %>
    <section class="hero-card" aria-label="Featured recipe">
      <a href="<%= featuredRecipe.link %>" class="hero-media-link">
        <img src="<%= featuredRecipe.image %>" alt="<%= featuredRecipe.alt || featuredRecipe.title %>" class="hero-media" />
      </a>
      <div class="hero-copy">
        <p class="eyebrow">Featured Recipe</p>
        <h2><%= featuredRecipe.title %></h2>
        <p><%= featuredRecipe.description_excerpt || featuredRecipe.description %></p>
        <div class="hero-meta">
          <% if (featuredRecipe.category_title) { %>
            <span><%= featuredRecipe.category_title %></span>
          <% } %>
          <% if (featuredRecipe.time) { %>
            <span><%= featuredRecipe.time %></span>
          <% } %>
        </div>
        <a class="btn btn-primary" href="<%= featuredRecipe.link %>">Cook This Recipe</a>
      </div>
    </section>
  <% } %>

  <section class="home-section" aria-label="Latest recipes">
    <div class="section-head">
      <div>
        <p class="eyebrow">Fresh Content</p>
        <h2>Latest Recipes</h2>
      </div>
    </div>

    <% if (latestRecipes && latestRecipes.length) { %>
      <div class="recipe-grid">
        <% latestRecipes.forEach(function(recipe) { %>
          <%- include('partials/recipe-card', { recipe: recipe }) %>
        <% }); %>
      </div>
    <% } else { %>
      <p class="empty-state">No published recipes yet. Add recipes from admin and they will appear here.</p>
    <% } %>
  </section>

  <% if (categorySections && categorySections.length) { %>
    <% categorySections.forEach(function(section) { %>
      <section class="home-section" aria-label="<%= section.title %>">
        <div class="section-head section-head-inline">
          <div>
            <p class="eyebrow">Category</p>
            <h2><%= section.title %></h2>
          </div>
          <a class="text-link" href="/categories/<%= section.slug %>">View all</a>
        </div>

        <div class="recipe-scroll-grid">
          <% section.recipes.forEach(function(recipe) { %>
            <%- include('partials/recipe-card', { recipe: recipe }) %>
          <% }); %>
        </div>
      </section>
    <% }); %>
  <% } %>
</main>
